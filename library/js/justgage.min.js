function kvLookup(a,b,c,d,e,f){var g=d,h=!1;if(null!==a&&void 0!==a&&(null!==c&&void 0!==c&&"object"==typeof c&&a in c?(g=c[a],h=!0):null!==b&&void 0!==b&&"object"==typeof b&&a in b?(g=b[a],h=!0):g=d,!0===h&&null!==e&&void 0!==e))switch(e){case"int":g=parseInt(g,10);break;case"float":g=parseFloat(g)}return g}function getColor(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,d=d||e.length>0;if(e.ranges.length>0){!0===e.percents&&(a=100*b);for(var t=0;t<e.ranges.length;t++)if(a>=e.ranges[t].lo&&a<=e.ranges[t].hi)return e.ranges[t].color}if(1===(f=c.length))return c[0];for(g=d?1/f:1/(f-1),h=[],t=0;t<c.length;t++)i=d?g*(t+1):g*t,j=parseInt(cutHex(c[t]).substring(0,2),16),k=parseInt(cutHex(c[t]).substring(2,4),16),l=parseInt(cutHex(c[t]).substring(4,6),16),h[t]={pct:i,color:{r:j,g:k,b:l}};if(0===b)return"rgb("+[h[0].color.r,h[0].color.g,h[0].color.b].join(",")+")";for(var u=0;u<h.length;u++)if(b<=h[u].pct)return d?"rgb("+[h[u].color.r,h[u].color.g,h[u].color.b].join(",")+")":(m=h[u-1],n=h[u],o=n.pct-m.pct,p=(b-m.pct)/o,q=1-p,r=p,s={r:Math.floor(m.color.r*q+n.color.r*r),g:Math.floor(m.color.g*q+n.color.g*r),b:Math.floor(m.color.b*q+n.color.b*r)},"rgb("+[s.r,s.g,s.b].join(",")+")")}function setDy(a,b,c){(!ie||ie>9)&&a.node.firstChild.attributes.dy&&(a.node.firstChild.attributes.dy.value=0)}function getRandomInt(a,b){return Math.floor(Math.random()*(b-a+1))+a}function cutHex(a){return"#"==a.charAt(0)?a.substring(1,7):a}function humanFriendlyNumber(a,b){var c,d,e,f;for(c=Math.pow,d=c(10,b),e=7;e;)(f=c(10,3*e--))<=a&&(a=Math.round(a*d/f)/d+"KMGTPE"[e]);return a}function formatNumber(a){var b=a.toString().split(".");return b[0]=b[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),b.join(".")}function getStyle(a,b){var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function onCreateElementNsReady(a){void 0!==document.createElementNS?a():setTimeout(function(){onCreateElementNsReady(a)},100)}function extend(a){a=a||{};for(var b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a}JustGage=function(a){var b=this;if(null===a||void 0===a)return console.log("* justgage: Make sure to pass options to the constructor!"),!1;var c;if(null!==a.id&&void 0!==a.id){if(!(c=document.getElementById(a.id)))return console.log("* justgage: No element with id : %s found",a.id),!1}else{if(null===a.parentNode||void 0===a.parentNode)return console.log("* justgage: Make sure to pass the existing element id or parentNode to the constructor."),!1;c=a.parentNode}var d=c.dataset?c.dataset:{},e=null!==a.defaults&&void 0!==a.defaults&&a.defaults;!1!==e&&(a=extend({},a,e),delete a.defaults),b.config={id:a.id,value:kvLookup("value",a,d,0,"float"),defaults:kvLookup("defaults",a,d,0,!1),parentNode:kvLookup("parentNode",a,d,null),width:kvLookup("width",a,d,null),height:kvLookup("height",a,d,null),valueFontColor:kvLookup("valueFontColor",a,d,"#010101"),valueFontFamily:kvLookup("valueFontFamily",a,d,"Arial"),symbol:kvLookup("symbol",a,d,""),min:kvLookup("min",a,d,0,"float"),minTxt:kvLookup("minTxt",a,d,!1),max:kvLookup("max",a,d,100,"float"),maxTxt:kvLookup("maxTxt",a,d,!1),reverse:kvLookup("reverse",a,d,!1),humanFriendlyDecimal:kvLookup("humanFriendlyDecimal",a,d,0),textRenderer:kvLookup("textRenderer",a,d,null),onAnimationEnd:kvLookup("onAnimationEnd",a,d,null),gaugeWidthScale:kvLookup("gaugeWidthScale",a,d,1),gaugeColor:kvLookup("gaugeColor",a,d,"#edebeb"),label:kvLookup("label",a,d,""),labelFontColor:kvLookup("labelFontColor",a,d,"#b3b3b3"),shadowOpacity:kvLookup("shadowOpacity",a,d,.2),shadowSize:kvLookup("shadowSize",a,d,5),shadowVerticalOffset:kvLookup("shadowVerticalOffset",a,d,3),levelColors:kvLookup("levelColors",a,d,["#a9d70b","#f9c802","#ff0000"],"array",","),startAnimationTime:kvLookup("startAnimationTime",a,d,700),startAnimationType:kvLookup("startAnimationType",a,d,">"),refreshAnimationTime:kvLookup("refreshAnimationTime",a,d,700),refreshAnimationType:kvLookup("refreshAnimationType",a,d,">"),donutStartAngle:kvLookup("donutStartAngle",a,d,90),valueMinFontSize:kvLookup("valueMinFontSize",a,d,16),labelMinFontSize:kvLookup("labelMinFontSize",a,d,10),minLabelMinFontSize:kvLookup("minLabelMinFontSize",a,d,10),maxLabelMinFontSize:kvLookup("maxLabelMinFontSize",a,d,10),hideValue:kvLookup("hideValue",a,d,!1),hideMinMax:kvLookup("hideMinMax",a,d,!1),showInnerShadow:kvLookup("showInnerShadow",a,d,!1),humanFriendly:kvLookup("humanFriendly",a,d,!1),noGradient:kvLookup("noGradient",a,d,!1),donut:kvLookup("donut",a,d,!1),relativeGaugeSize:kvLookup("relativeGaugeSize",a,d,!1),counter:kvLookup("counter",a,d,!1),decimals:kvLookup("decimals",a,d,0),customSectors:kvLookup("customSectors",a,d,[]),formatNumber:kvLookup("formatNumber",a,d,!1),pointer:kvLookup("pointer",a,d,!1),pointerOptions:kvLookup("pointerOptions",a,d,[])};var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;b.config.value>b.config.max&&(b.config.value=b.config.max),b.config.value<b.config.min&&(b.config.value=b.config.min),b.originalValue=kvLookup("value",a,d,-1,"float"),null!==b.config.id&&null!==document.getElementById(b.config.id)?b.canvas=Raphael(b.config.id,"100%","100%"):null!==b.config.parentNode&&(b.canvas=Raphael(b.config.parentNode,"100%","100%")),!0===b.config.relativeGaugeSize?!0===b.config.donut?(b.canvas.setViewBox(0,0,200,200,!0),f=200,g=200):(b.canvas.setViewBox(0,0,200,100,!0),f=200,g=100):null!==b.config.width&&null!==b.config.height?(f=b.config.width,g=b.config.height):null!==b.config.parentNode?(b.canvas.setViewBox(0,0,200,100,!0),f=200,g=100):(f=1*getStyle(document.getElementById(b.config.id),"width").slice(0,-2),g=1*getStyle(document.getElementById(b.config.id),"height").slice(0,-2)),!0===b.config.donut?(f>g?(i=g,h=i):(h=f,i=h),k=(f-h)/2,l=(g-i)/2,m=i/6.4>16?i/5.4:18,n=k+h/2,o=""!==b.config.label?l+i/1.85:l+i/1.7,p=i/16>10?i/16:10,q=k+h/2,r=o+p,s=i/16>10?i/16:10,t=k+h/10+h/6.666666666666667*b.config.gaugeWidthScale/2,u=r,v=i/16>10?i/16:10,w=k+h-h/10-h/6.666666666666667*b.config.gaugeWidthScale/2,x=r):(f>g?(i=g,(h=2*i)>f&&(j=h/f,h/=j,i/=j)):f<g?(h=f,i=h/2):(h=f,i=.5*h),k=(f-h)/2,l=(g-i)/2,m=i/6.5>b.config.valueMinFontSize?i/6.5:b.config.valueMinFontSize,n=k+h/2,o=l+i/1.275,p=i/16>b.config.labelMinFontSize?i/16:b.config.labelMinFontSize,q=k+h/2,r=o+m/2+5,s=i/16>b.config.minLabelMinFontSize?i/16:b.config.minLabelMinFontSize,t=k+h/10+h/6.666666666666667*b.config.gaugeWidthScale/2,u=r,v=i/16>b.config.maxLabelMinFontSize?i/16:b.config.maxLabelMinFontSize,w=k+h-h/10-h/6.666666666666667*b.config.gaugeWidthScale/2,x=r),b.params={canvasW:f,canvasH:g,widgetW:h,widgetH:i,dx:k,dy:l,valueFontSize:m,valueX:n,valueY:o,labelFontSize:p,labelX:q,labelY:r,minFontSize:s,minX:t,minY:u,maxFontSize:v,maxX:w,maxY:x},x=null,b.canvas.customAttributes.pki=function(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t;return i?(k=(1-2*(a-b)/(c-b))*Math.PI,l=d/2-d/30,m=l-d/6.666666666666667*h,n=d/2+f,o=e/2+g,p=n+l*Math.cos(k),q=o-l*Math.sin(k),r=n+m*Math.cos(k),s=o-m*Math.sin(k),t="M"+(n-m)+","+o+" ",t+="L"+(n-l)+","+o+" ",a>(c-b)/2&&(t+="A"+l+","+l+" 0 0 1 "+(n+l)+","+o+" "),t+="A"+l+","+l+" 0 0 1 "+p+","+q+" ",t+="L"+r+","+s+" ",a>(c-b)/2&&(t+="A"+m+","+m+" 0 0 0 "+(n+m)+","+o+" "),t+="A"+m+","+m+" 0 0 0 "+(n-m)+","+o+" ",t+="Z ",{path:t}):(k=(1-(a-b)/(c-b))*Math.PI,l=d/2-d/10,m=l-d/6.666666666666667*h,n=d/2+f,o=e/1.25+g,p=n+l*Math.cos(k),q=o-l*Math.sin(k),r=n+m*Math.cos(k),s=o-m*Math.sin(k),t="M"+(n-m)+","+o+" ",t+="L"+(n-l)+","+o+" ",t+="A"+l+","+l+" 0 0 1 "+p+","+q+" ",t+="L"+r+","+s+" ",t+="A"+m+","+m+" 0 0 0 "+(n-m)+","+o+" ",t+="Z ",{path:t})},b.canvas.customAttributes.ndl=function(a,c,d,e,f,g,h,i,j){var k=3.5*e/100,l=e/15,m=e/100;null!=b.config.pointerOptions.toplength&&void 0!=b.config.pointerOptions.toplength&&(k=b.config.pointerOptions.toplength),null!=b.config.pointerOptions.bottomlength&&void 0!=b.config.pointerOptions.bottomlength&&(l=b.config.pointerOptions.bottomlength),null!=b.config.pointerOptions.bottomwidth&&void 0!=b.config.pointerOptions.bottomwidth&&(m=b.config.pointerOptions.bottomwidth);var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;return j?(n=(1-2*(a-c)/(d-c))*Math.PI,o=e/2-e/30,p=o-e/6.666666666666667*i,e/2+g,q=f/2+h,r=e/2+g+o*Math.cos(n),s=f-(f-q)-o*Math.sin(n),t=e/2+g+p*Math.cos(n),u=f-(f-q)-p*Math.sin(n),v=r+k*Math.cos(n),w=s-k*Math.sin(n),x=t-l*Math.cos(n),y=u+l*Math.sin(n),z=x+m*Math.sin(n),A=y+m*Math.cos(n),B=x-m*Math.sin(n),C=y-m*Math.cos(n),D="M"+z+","+A+" ",D+="L"+B+","+C+" ",D+="L"+v+","+w+" ",D+="Z ",{path:D}):(n=(1-(a-c)/(d-c))*Math.PI,o=e/2-e/10,p=o-e/6.666666666666667*i,e/2+g,q=f/1.25+h,r=e/2+g+o*Math.cos(n),s=f-(f-q)-o*Math.sin(n),t=e/2+g+p*Math.cos(n),u=f-(f-q)-p*Math.sin(n),v=r+k*Math.cos(n),w=s-k*Math.sin(n),x=t-l*Math.cos(n),y=u+l*Math.sin(n),z=x+m*Math.sin(n),A=y+m*Math.cos(n),B=x-m*Math.sin(n),C=y-m*Math.cos(n),D="M"+z+","+A+" ",D+="L"+B+","+C+" ",D+="L"+v+","+w+" ",D+="Z ",{path:D})},b.gauge=b.canvas.path().attr({stroke:"none",fill:b.config.gaugeColor,pki:[b.config.max,b.config.min,b.config.max,b.params.widgetW,b.params.widgetH,b.params.dx,b.params.dy,b.config.gaugeWidthScale,b.config.donut,b.config.reverse]}),b.level=b.canvas.path().attr({stroke:"none",fill:getColor(b.config.value,(b.config.value-b.config.min)/(b.config.max-b.config.min),b.config.levelColors,b.config.noGradient,b.config.customSectors),pki:[b.config.min,b.config.min,b.config.max,b.params.widgetW,b.params.widgetH,b.params.dx,b.params.dy,b.config.gaugeWidthScale,b.config.donut,b.config.reverse]}),b.config.donut&&b.level.transform("r"+b.config.donutStartAngle+", "+(b.params.widgetW/2+b.params.dx)+", "+(b.params.widgetH/2+b.params.dy)),b.config.pointer&&(b.needle=b.canvas.path().attr({stroke:null!==b.config.pointerOptions.stroke&&void 0!==b.config.pointerOptions.stroke?b.config.pointerOptions.stroke:"none","stroke-width":null!==b.config.pointerOptions.stroke_width&&void 0!==b.config.pointerOptions.stroke_width?b.config.pointerOptions.stroke_width:0,"stroke-linecap":null!==b.config.pointerOptions.stroke_linecap&&void 0!==b.config.pointerOptions.stroke_linecap?b.config.pointerOptions.stroke_linecap:"square",fill:null!==b.config.pointerOptions.color&&void 0!==b.config.pointerOptions.color?b.config.pointerOptions.color:"#000000",ndl:[b.config.min,b.config.min,b.config.max,b.params.widgetW,b.params.widgetH,b.params.dx,b.params.dy,b.config.gaugeWidthScale,b.config.donut]}),b.config.donut&&b.needle.transform("r"+b.config.donutStartAngle+", "+(b.params.widgetW/2+b.params.dx)+", "+(b.params.widgetH/2+b.params.dy))),b.txtValue=b.canvas.text(b.params.valueX,b.params.valueY,0),b.txtValue.attr({"font-size":b.params.valueFontSize,"font-weight":"bold","font-family":b.config.valueFontFamily,fill:b.config.valueFontColor,"fill-opacity":"0"}),setDy(b.txtValue,b.params.valueFontSize,b.params.valueY),b.txtLabel=b.canvas.text(b.params.labelX,b.params.labelY,b.config.label),b.txtLabel.attr({"font-size":b.params.labelFontSize,"font-weight":"normal","font-family":"Arial",fill:b.config.labelFontColor,"fill-opacity":"0"}),setDy(b.txtLabel,b.params.labelFontSize,b.params.labelY);var y=b.config.min;b.config.reverse&&(y=b.config.max),b.txtMinimum=y,b.config.minTxt?b.txtMinimum=b.config.minTxt:b.config.humanFriendly?b.txtMinimum=humanFriendlyNumber(y,b.config.humanFriendlyDecimal):b.config.formatNumber&&(b.txtMinimum=formatNumber(y)),b.txtMin=b.canvas.text(b.params.minX,b.params.minY,b.txtMinimum),b.txtMin.attr({"font-size":b.params.minFontSize,"font-weight":"normal","font-family":"Arial",fill:b.config.labelFontColor,"fill-opacity":b.config.hideMinMax||b.config.donut?"0":"1"}),setDy(b.txtMin,b.params.minFontSize,b.params.minY);var z=b.config.max;b.config.reverse&&(z=b.config.min),b.txtMaximum=z,b.config.maxTxt?b.txtMaximum=b.config.maxTxt:b.config.humanFriendly?b.txtMaximum=humanFriendlyNumber(z,b.config.humanFriendlyDecimal):b.config.formatNumber&&(b.txtMaximum=formatNumber(z)),b.txtMax=b.canvas.text(b.params.maxX,b.params.maxY,b.txtMaximum),b.txtMax.attr({"font-size":b.params.maxFontSize,"font-weight":"normal","font-family":"Arial",fill:b.config.labelFontColor,"fill-opacity":b.config.hideMinMax||b.config.donut?"0":"1"}),setDy(b.txtMax,b.params.maxFontSize,b.params.maxY);var A=b.canvas.canvas.childNodes[1],B="http://www.w3.org/2000/svg";"undefined"!==ie&&ie<9||("undefined"!==ie?onCreateElementNsReady(function(){b.generateShadow(B,A)}):b.generateShadow(B,A)),B=null,b.config.textRenderer?b.originalValue=b.config.textRenderer(b.originalValue):b.config.humanFriendly?b.originalValue=humanFriendlyNumber(b.originalValue,b.config.humanFriendlyDecimal)+b.config.symbol:b.config.formatNumber?b.originalValue=formatNumber(b.originalValue)+b.config.symbol:b.originalValue=(1*b.originalValue).toFixed(b.config.decimals)+b.config.symbol,!0===b.config.counter?(eve.on("raphael.anim.frame."+b.level.id,function(){var a=b.level.attr("pki")[0];b.config.reverse&&(a=1*b.config.max+1*b.config.min-1*b.level.attr("pki")[0]),b.config.textRenderer?b.txtValue.attr("text",b.config.textRenderer(Math.floor(a))):b.config.humanFriendly?b.txtValue.attr("text",humanFriendlyNumber(Math.floor(a),b.config.humanFriendlyDecimal)+b.config.symbol):b.config.formatNumber?b.txtValue.attr("text",formatNumber(Math.floor(a))+b.config.symbol):b.txtValue.attr("text",(1*a).toFixed(b.config.decimals)+b.config.symbol),setDy(b.txtValue,b.params.valueFontSize,b.params.valueY),a=null}),eve.on("raphael.anim.finish."+b.level.id,function(){b.txtValue.attr({text:b.originalValue}),setDy(b.txtValue,b.params.valueFontSize,b.params.valueY)})):eve.on("raphael.anim.start."+b.level.id,function(){b.txtValue.attr({text:b.originalValue}),setDy(b.txtValue,b.params.valueFontSize,b.params.valueY)});var C=b.config.value;b.config.reverse&&(C=1*b.config.max+1*b.config.min-1*b.config.value),b.level.animate({pki:[C,b.config.min,b.config.max,b.params.widgetW,b.params.widgetH,b.params.dx,b.params.dy,b.config.gaugeWidthScale,b.config.donut,b.config.reverse]},b.config.startAnimationTime,b.config.startAnimationType,b.config.onAnimationEnd),b.config.pointer&&b.needle.animate({ndl:[C,b.config.min,b.config.max,b.params.widgetW,b.params.widgetH,b.params.dx,b.params.dy,b.config.gaugeWidthScale,b.config.donut]},b.config.startAnimationTime,b.config.startAnimationType),b.txtValue.animate({"fill-opacity":b.config.hideValue?"0":"1"},b.config.startAnimationTime,b.config.startAnimationType),b.txtLabel.animate({"fill-opacity":"1"},b.config.startAnimationTime,b.config.startAnimationType)},JustGage.prototype.refresh=function(a,b){var c,d,e=this,b=b||null;null!==b&&(e.config.max=b,e.txtMaximum=e.config.max,e.config.maxTxt?e.txtMaximum=e.config.maxTxt:e.config.humanFriendly?e.txtMaximum=humanFriendlyNumber(e.config.max,e.config.humanFriendlyDecimal):e.config.formatNumber&&(e.txtMaximum=formatNumber(e.config.max)),e.config.reverse?(e.txtMin.attr({text:e.txtMaximum}),e.txtMax.attr({text:e.txtMinimum}),setDy(e.txtMin,e.params.minFontSize,e.params.minY),setDy(e.txtMax,e.params.minFontSize,e.params.minY)):(e.txtMax.attr({text:e.txtMaximum}),setDy(e.txtMax,e.params.maxFontSize,e.params.maxY))),c=a,1*a>1*e.config.max&&(a=1*e.config.max),1*a<1*e.config.min&&(a=1*e.config.min),d=getColor(a,(a-e.config.min)/(e.config.max-e.config.min),e.config.levelColors,e.config.noGradient,e.config.customSectors),c=e.config.textRenderer?e.config.textRenderer(c):e.config.humanFriendly?humanFriendlyNumber(c,e.config.humanFriendlyDecimal)+e.config.symbol:e.config.formatNumber?formatNumber((1*c).toFixed(e.config.decimals))+e.config.symbol:(1*c).toFixed(e.config.decimals)+e.config.symbol,e.originalValue=c,e.config.value=1*a,e.config.counter||(e.txtValue.attr({text:c}),setDy(e.txtValue,e.params.valueFontSize,e.params.valueY));var f=e.config.value;e.config.reverse&&(f=1*e.config.max+1*e.config.min-1*e.config.value),e.level.animate({pki:[f,e.config.min,e.config.max,e.params.widgetW,e.params.widgetH,e.params.dx,e.params.dy,e.config.gaugeWidthScale,e.config.donut,e.config.reverse],fill:d},e.config.refreshAnimationTime,e.config.refreshAnimationType,e.config.onAnimationEnd),e.config.pointer&&e.needle.animate({ndl:[f,e.config.min,e.config.max,e.params.widgetW,e.params.widgetH,e.params.dx,e.params.dy,e.config.gaugeWidthScale,e.config.donut]},e.config.refreshAnimationTime,e.config.refreshAnimationType),b=null},JustGage.prototype.destroy=function(){document.getElementById(this.config.id).innerHTML=""},JustGage.prototype.generateShadow=function(a,b){var c,d,e,f,g,h,i,j=this,k="inner-shadow-"+j.config.id;c=document.createElementNS(a,"filter"),c.setAttribute("id",k),b.appendChild(c),d=document.createElementNS(a,"feOffset"),d.setAttribute("dx",0),d.setAttribute("dy",j.config.shadowVerticalOffset),c.appendChild(d),e=document.createElementNS(a,"feGaussianBlur"),e.setAttribute("result","offset-blur"),e.setAttribute("stdDeviation",j.config.shadowSize),c.appendChild(e),f=document.createElementNS(a,"feComposite"),f.setAttribute("operator","out"),f.setAttribute("in","SourceGraphic"),f.setAttribute("in2","offset-blur"),f.setAttribute("result","inverse"),c.appendChild(f),g=document.createElementNS(a,"feFlood"),g.setAttribute("flood-color","black"),g.setAttribute("flood-opacity",j.config.shadowOpacity),g.setAttribute("result","color"),c.appendChild(g),h=document.createElementNS(a,"feComposite"),h.setAttribute("operator","in"),h.setAttribute("in","color"),h.setAttribute("in2","inverse"),h.setAttribute("result","shadow"),c.appendChild(h),i=document.createElementNS(a,"feComposite"),i.setAttribute("operator","over"),i.setAttribute("in","shadow"),i.setAttribute("in2","SourceGraphic"),c.appendChild(i),j.config.showInnerShadow&&(j.canvas.canvas.childNodes[2].setAttribute("filter","url("+window.location.pathname+"#"+k+")"),j.canvas.canvas.childNodes[3].setAttribute("filter","url("+window.location.pathname+"#"+k+")")),i=null};var ie=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return a>4?a:void 0}();